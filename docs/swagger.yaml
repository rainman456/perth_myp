basePath: /
info:
  contact:
    email: support@example.com
    name: API Support
  description: API for customer and merchant authentication in a multivendor platform
  license:
    name: MIT
  termsOfService: http://example.com/terms/
  title: Multivendor API
  version: "1.0"
paths:
  /customer/auth/google:
    get:
      description: Redirects to Google OAuth login page
      produces:
      - application/json
      responses:
        "307":
          description: Redirect to Google OAuth
          schema:
            type: object
      summary: Initiate Google OAuth for customer
      tags:
      - Customer
  /customer/auth/google/callback:
    get:
      description: Processes Google OAuth callback and returns JWT token
      parameters:
      - description: OAuth code
        in: query
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: JWT token
          schema:
            properties:
              token:
                type: string
            type: object
        "400":
          description: Code not provided
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Server error
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Handle Google OAuth callback for customer
      tags:
      - Customer
  /customer/login:
    post:
      consumes:
      - application/json
      description: Authenticates a customer using email and password
      parameters:
      - description: Customer login credentials
        in: body
        name: body
        required: true
        schema:
          properties:
            email:
              type: string
            password:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: JWT token
          schema:
            properties:
              token:
                type: string
            type: object
        "400":
          description: Invalid request
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              error:
                type: string
            type: object
        "403":
          description: Invalid role
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Server error
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Customer login
      tags:
      - Customer
  /customer/logout:
    post:
      description: Invalidates the customer's JWT token
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Authorization header required
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Customer logout
      tags:
      - Customer
  /customer/register:
    post:
      consumes:
      - application/json
      description: Creates a new customer account with email, name, password, and
        optional country
      parameters:
      - description: Customer registration details
        in: body
        name: body
        required: true
        schema:
          properties:
            country:
              type: string
            email:
              type: string
            name:
              type: string
            password:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: JWT token
          schema:
            properties:
              token:
                type: string
            type: object
        "400":
          description: Invalid request
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Server error
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Register a new customer
      tags:
      - Customer
  /merchant/login:
    post:
      consumes:
      - application/json
      description: Authenticates a merchant using work_email and password
      parameters:
      - description: Merchant login credentials
        in: body
        name: body
        required: true
        schema:
          properties:
            password:
              type: string
            work_email:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: JWT token
          schema:
            properties:
              token:
                type: string
            type: object
        "400":
          description: Invalid request
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              error:
                type: string
            type: object
        "403":
          description: Account not approved
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Server error
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Merchant login
      tags:
      - Merchant
  /merchant/logout:
    post:
      description: Invalidates the merchant's JWT token
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Authorization header required
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Merchant logout
      tags:
      - Merchant
  /merchant/submitApplication:
    post:
      consumes:
      - application/json
      description: Creates a new merchant account with required details (password
        set by admin console later)
      parameters:
      - description: Merchant registration details
        in: body
        name: body
        required: true
        schema:
          properties:
            business_description:
              type: string
            business_registration_certificate:
              type: string
            business_type:
              type: string
            city:
              type: string
            country:
              type: string
            email:
              type: string
            name:
              type: string
            password:
              type: string
            personal_email:
              type: string
            phone_number:
              type: string
            store_logo_url:
              type: string
            store_name:
              type: string
            street_address:
              type: string
            website:
              type: string
            work_address:
              type: string
            work_email:
              type: string
            zip_code:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: JWT token
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Invalid request
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Server error
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Submit application for new merchant
      tags:
      - Merchant
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
